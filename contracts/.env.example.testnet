# ================================================================================
# KhipuVault - Mezo Testnet Deployment Configuration
# ================================================================================
# Copy this file to .env.testnet and fill in the values
# chmod 600 .env.testnet (keep it secure!)
# ================================================================================

# ==================== DEPLOYER CONFIGURATION ====================
# Private key of account that will deploy contracts
# ⚠️  NEVER commit this file with real keys! Use .gitignore
DEPLOYER_PRIVATE_KEY=0x...           # Your testnet private key (64 hex chars after 0x)

# ==================== NETWORK CONFIGURATION ====================
# Mezo Testnet RPC - Official endpoint
RPC_URL=https://rpc.test.mezo.org

# Chain ID for Mezo Testnet
CHAIN_ID=31611

# ==================== TOKEN ADDRESSES (Mezo Testnet) ====================
# These are the token addresses on Mezo Testnet (chain 31611)

# MUSD Token - Bitcoin-backed stablecoin from Mezo protocol
# Status: ✅ Confirmed from Mezo documentation
MUSD_ADDRESS=0x118917a40FAF1CD7a13dB0Ef56C86De7973Ac503

# WBTC Token - Wrapped Bitcoin (used as collateral)
# Status: ⏳ Need to get from Mezo team
# Placeholder: 0x... (contact Mezo for exact address)
WBTC_ADDRESS=0x...

# ==================== MEZO PROTOCOL CONTRACTS (Testnet) ====================
# These are the core Mezo protocol contracts we integrate with
# Status: ⏳ CRITICAL - Need to obtain from Mezo team or explorer

# BorrowerOperations - Manages Trove creation and operations
# Used for: Opening/closing troves, borrowing MUSD
MATSNET_BORROWER_OPERATIONS=0x...

# TroveManager - Manages system state and liquidations
# Used for: Checking liquidation, system health
MATSNET_TROVE_MANAGER=0x...

# PriceFeed - Provides BTC/USD pricing
# Used for: Getting collateral ratios, checking MCR/CCR
MATSNET_PRICE_FEED=0x...

# HintHelpers - Gas-optimized sorting helpers
# Used for: Efficient Trove operations
MATSNET_HINT_HELPERS=0x...

# SortedTroves - Sorted list of all active Troves
# Used for: Finding liquidation candidates
MATSNET_SORTED_TROVES=0x...

# ==================== KHIPUVAULT CONFIGURATION ====================
# Configuration for our custom contracts

# Fee collector address - receives performance fees from pools
# Default: Will use deployer address if not set
FEE_COLLECTOR_ADDRESS=0x...

# Target LTV (Loan-to-Value) in basis points
# Example: 5000 = 50% LTV (for every 100 USD in collateral, borrow 50 USD)
# Range: 1000-8000 (10%-80%)
# Default: 5000 (50%)
TARGET_LTV=5000

# Max Fee Percentage in basis points
# Example: 500 = 5% max fee
# Default: 500
MAX_FEE_PERCENTAGE=500

# Initial Vault APR in basis points
# Example: 600 = 6% APR
# Used for test yield strategies
INITIAL_VAULT_APR=600

# ==================== CHAINLINK VRF CONFIGURATION ====================
# For LotteryPool randomness - OPTIONAL for hackathon demo
# Can use mock randomness for testing

# VRF Coordinator address on Mezo Testnet
# Status: ⏳ May not exist on Mezo, might need mock
VRF_COORDINATOR_ADDRESS=0x...

# VRF Subscription ID
# Create at: https://vrf.chain.link
VRF_SUBSCRIPTION_ID=0

# VRF Key Hash
# Different for each network - get from Chainlink docs
VRF_KEY_HASH=0x...

# ==================== ETHERSCAN API (Optional) ====================
# For contract verification on block explorer
# Get from: https://explorer.test.mezo.org (if available)

ETHERSCAN_API_KEY=your_api_key_here

# ==================== INSTRUCTIONS ====================
# 1. Copy this file to .env.testnet
#    cp .env.example.testnet .env.testnet
#
# 2. Fill in DEPLOYER_PRIVATE_KEY
#    - Use a testnet account (NOT mainnet!)
#    - Get testnet ETH for gas from faucet
#    - Get testnet BTC from: https://testnet.mezo.org/faucet
#
# 3. Get Missing Addresses
#    Status of each address:
#    ✅ MUSD_ADDRESS     - Confirmed
#    ⏳ WBTC_ADDRESS     - Need from Mezo
#    ⏳ BORROWER_OPS     - Need from Mezo
#    ⏳ TROVE_MANAGER    - Need from Mezo
#    ⏳ PRICE_FEED       - Need from Mezo
#    ⏳ HINT_HELPERS     - Need from Mezo
#    ⏳ SORTED_TROVES    - Need from Mezo
#
#    HOW TO GET THEM:
#    A) Contact Mezo team on Discord: https://discord.gg/mezo
#       Ask: "Can you provide testnet contract addresses for:
#             BorrowerOperations, TroveManager, PriceFeed, HintHelpers, SortedTroves?"
#
#    B) Check Mezo testnet explorer: https://explorer.test.mezo.org
#       Search for contracts with names like "BorrowerOperations"
#
#    C) Check Mezo GitHub: https://github.com/mezo-org
#       Look for deployment addresses in config files
#
# 4. Deploy contracts
#    source .env.testnet
#    cd contracts
#    forge script script/02_DeployIntegrations.s.sol --rpc-url $RPC_URL --broadcast
#    forge script script/03_DeployPools.s.sol --rpc-url $RPC_URL --broadcast
#
# 5. Copy deployed addresses to frontend .env.local
#
# 6. Test on testnet
#    http://localhost:9002/dashboard (with testnet wallet)
#
# ==================== SECURITY ====================
# ⚠️  IMPORTANT:
# - Never commit .env files with real private keys
# - Add to .gitignore:
#   .env.testnet
#   .env.local
#   .env.*.local
# - Use hardware wallet for mainnet deployments
# - Keep private keys in secure environment
# - Rotate keys after testnet phase
#
# ==================== SUPPORT ====================
# Questions?
# - Mezo Docs: https://mezo.org/docs
# - Mezo Discord: https://discord.gg/mezo
# - Our Repo Issues: https://github.com/[your-org]/KhipuVault/issues
# ================================================================================
